!function(e){function t(t){for(var a,c,o=t[0],i=t[1],s=t[2],d=0,p=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);p.length;)p.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(l.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={0:0},l=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=i;l.push([41,1]),n()}([,,,,function(e,t,n){e.exports={"card-container":"_2KQan",cardContainer:"_2KQan",card:"Fcahj",clickable:"_3sBEg",revealed:"_1LRbU",front:"_6-mkH",back:"_3BMV2",flipper:"SBxIB",flip:"_1SDXD"}},,function(e,t,n){e.exports={button:"_2zMQC"}},function(e,t,n){e.exports={"light-mode":"_2ZIlC",lightMode:"_2ZIlC","dark-mode":"_3ICdJ",darkMode:"_3ICdJ"}},function(e,t,n){e.exports={container:"_3SJUV",initializing:"_1sC97",won:"O-Yui",restart:"_3wjzo"}},,,,,,,function(e,t,n){e.exports={menu:"_2fDTV",open:"_4RW6a"}},,,,function(e){e.exports=JSON.parse('["🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐉","🐊","🐋","🐌","🐍","🐎","🐏","🐐","🐑","🐒","🐓","🐔","🐕","🐖","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞","🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐪","🐫","🐬","🐭","🐮","🐯","🐰","🐱","🐲","🐳","🐴","🐵","🙈","🙉","🙊","🐶","🐷","🐸","🐹","🐺","🐻","🐼","🐽","🐾","🐿","🦀","🦁","🦂","🦃","🦄"]')},function(e){e.exports=JSON.parse('["♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓"]')},function(e){e.exports=JSON.parse('["⛪","⛰","⛲","⛺","⛽","🌆","🌇","🌉","🎠","🎡","🎢","🎪","🎰","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏔","🏕","🏖","🏗","🏘","🏙","🏚","🏛","🏜","🏝","🏞","🏟","🏯","🏰","🕌","🕍","🚀","🚁","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚋","🚌","🚍","🚎","🚏","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚢","🚣","🚤"]')},function(e){e.exports=JSON.parse('["👦","👧","👨","👩","👪","👮","👰","👱","👲","👳","👴","👵","👶","👷","👸","👹","👺","👻","👼","👽","👾","👿","💀","💁","💂","😀","😁","😂","😃","😄","😅","😆","😇","😈","😉","😊","😋","😌","😍","😎","😏","😐","😑","😒","😓","😔","😕","😖","😗","😘","😙","😚","😛","😜","😝","😞","😟","😠","😡","😢","😣","😤","😥","😦","😧","😨","😩","😪","😫","😬","😭","😮","😯","😰","😱","😲","😳","😴","😵","😶","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙁","🙂","🙃","🙄","🤐","🤑","🤒","🤓","🤔","🤕","🤖","🤗"]')},function(e){e.exports=JSON.parse('["🍄","🍅","🍆","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🍎","🍏","🍐","🍑","🍒","🍓","🍔","🍕","🍖","🍗","🍘","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧","🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍶","🍷","🍸","🍹","🍺","🍻","🍼","🍽","🍾","🍿"]')},function(e){e.exports=JSON.parse('["🌱","🌲","🌳","🌴","🌵","🌶","🌷","🌸","🌹","🌺","🌻","🌼","🌽","🌾","🌿","🍀","🍁","🍂","🍃"]')},function(e){e.exports=JSON.parse('["☠","☢","☣","☦","☪","☮","☯","☸","♻","♿","⚒","⚓","⚔","⚖","⚗","⚙","⚛","⚜","⚠","⚡"]')},function(e){e.exports=JSON.parse('["🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌝","🌞","🌟","🌠","🌡","🌤","🌥","🌦","🌧","🌨","🌩","🌪","🌫","🌬","🌈","🌌","🌍","🌎","🌏","🌐","☂","☃","☄","⛈","🌁","🌂","🌃","🌄","🌅","🌆","🌇"]')},,,,function(e,t,n){e.exports={fireworks:"itdad"}},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"animals",(function(){return g})),n.d(a,"astrology",(function(){return O})),n.d(a,"city_places",(function(){return h})),n.d(a,"faces",(function(){return y})),n.d(a,"food",(function(){return C})),n.d(a,"plants",(function(){return k})),n.d(a,"various_signs",(function(){return v})),n.d(a,"weather_sky",(function(){return j}));var r=n(0),l=n.n(r),c=n(11),o=n(1),i=n(7),s=n(10),u=n(2),d=n.n(u);var p=()=>{const e=Object(o.c)(e=>e.darkMode)?"https://github.blog/wp-content/uploads/2008/12/forkme_left_white_ffffff.png?resize=149%2C149":"https://github.blog/wp-content/uploads/2008/12/forkme_left_darkblue_121621.png?resize=149%2C149";return l.a.createElement("a",{href:"https://github.com/tswaters/memory"},l.a.createElement("img",{className:"attachment-full size-full",width:"149",height:"149",style:{position:"absolute",top:0,left:0,border:0},src:e,alt:"Fork me on GitHub","data-recalc-dims":"1"}))},f=n(28),m=n.n(f),b=n(29),E=n.n(b),g=n(19),O=n(20),h=n(21),y=n(22),C=n(23),k=n(24),v=n(25),j=n(26);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=Object(s.a)(e=>e.state,e=>"won"===e),T=Object(s.a)([e=>e.cards.filter(e=>e.finished),e=>e.total,e=>e.clicks],(e,t,n)=>({left:t-e.length,clicks:n,efficiency:parseInt(0===n?0:e.length/n*100,10)})),M=()=>(e,t)=>{const{total:n,tileset:r}=t(),l=a[r];let c=new Set;const o=new Set,i=[];if(l.length<n/2)throw new Error("not enough!");do{c.add(l[Math.floor(Math.random()*l.length)])}while(c.size<n/2);c=[...c];do{const e=Math.floor(Math.random()*c.length),t=c[e];o.has(t)&&c.splice(e,1),o.add(t),i.push({value:t,index:i.length,revealed:!1,finished:!1})}while(i.length<n);e({type:"INITIALiZE",total:n,cards:i})};let x=localStorage.getItem("total");x=null==x?24:parseInt(x,10);let N=localStorage.getItem("tileset");null==N&&(N="animals");let R=localStorage.getItem("darkMode");R=null==R?window.matchMedia("(prefers-color-scheme: dark)").matches:"true"===R;const A={state:"initializing",selected:null,clickable:!0,clicks:0,total:x,tileset:N,darkMode:R,cards:[]};var L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_DARKMODE":return w({},e,{darkMode:!1===e.darkMode});case"CHANGE_TILESET":return w({},e,{tileset:t.name});case"CHANGE_TOTAL":return w({},e,{total:t.total});case"INITIALiZE":return w({},e,{clicks:0,state:"started",selected:null,total:t.total,cards:t.cards});case"RESTART":return w({},e,{selected:null,cards:e.cards.map(e=>w({},e,{revealed:!1}))});case"CHANGE_STATE":return w({},e,{state:t.state});case"CLICK_CARD":return w({},e,{clicks:e.clicks+1});case"SUCCESS":return w({},e,{selected:null,cards:e.cards.map((e,n)=>t.index!==n?e:w({},e,{revealed:!0,finished:!0}))});case"SELECT_CARD":return w({},e,{selected:t.index,cards:e.cards.map((e,n)=>t.index!==n?e:w({},e,{revealed:!0}))});case"DESELECT_CARD":return w({},e,{selected:null,cards:e.cards.map((e,n)=>t.index!==n?e:w({},e,{revealed:!1}))});case"LOCK":return w({},e,{clickable:t.clickable});default:return e}},D=n(30);var I=()=>{const e=Object(o.c)(_),t=Object(r.useRef)(null);return Object(r.useEffect)(()=>{if(!e)return;const n=new m.a(t.current);n.start();const a=e=>27===e.keyCode&&n.stop();return document.addEventListener("keydown",a),()=>{n.kill(),window.removeEventListener("keydown",a)}},[e]),e?l.a.createElement("div",{className:d()(D.fireworks),ref:t}):null},P=n(8),J=n(6);var z=()=>{const e=Object(o.b)(),t=Object(o.c)(_),{left:n,clicks:a,efficiency:c}=Object(o.c)(T),i=Object(r.useCallback)(()=>{e({type:"RESTART"}),setTimeout(()=>e(M()),500)},[e]),s=[t?"You won!":"Cards Left: ".concat(n),"Clicks: ".concat(a),"Efficiency: ".concat(c,"%")];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Memory"),l.a.createElement("h2",null,s.join("; ")),t&&l.a.createElement("button",{className:d()(J.button,P.restart),onClick:()=>i()},"🔄︎"))},G=n(3),K=n(4);const q={card:Object(G.shape)({value:G.string.isRequired,revealed:G.bool.isRequired}).isRequired},H=e=>{let{card:{index:t,value:n,revealed:a}}=e;const c=Object(o.b)(),i=Object(o.c)(e=>e.clickable),s=Object(r.useCallback)(()=>!a&&i&&c((e=>(t,n)=>{const{selected:a,cards:r}=n();if(t({type:"CLICK_CARD"}),null!=a)if(r[e].value===r[a].value){t({type:"SUCCESS",index:a}),t({type:"SUCCESS",index:e}),setTimeout(()=>t({type:"LOCK",clickable:!0}),500);const{left:r}=T(n());0===r&&setTimeout(()=>t({type:"CHANGE_STATE",state:"won"}),500)}else t({type:"SELECT_CARD",index:e}),setTimeout(()=>t({type:"LOCK",clickable:!1})),setTimeout(()=>{t({type:"DESELECT_CARD",index:e}),t({type:"DESELECT_CARD",index:a}),setTimeout(()=>t({type:"LOCK",clickable:!0}),500)},500);else t({type:"SELECT_CARD",index:e})})(t)),[t,a,i,c]);return l.a.createElement("div",{onClick:s,className:d()(K.card,{[K.revealed]:a,[K.flip]:a})},l.a.createElement("div",{className:d()(K.flipper)},l.a.createElement("div",{className:d()(K.front)}),l.a.createElement("div",{className:d()(K.back)},n)))};H.propTypes=q;var U=H,F=n(15);const B=e=>{let{total:t,onChange:n}=e;return l.a.createElement("label",null,"total",l.a.createElement("input",{value:t,size:"2",onChange:n}))};B.propTypes={total:G.string.isRequired,onChange:G.func.isRequired};const Z=e=>{let{tileset:t,onChange:n}=e;return l.a.createElement("label",null,"tileset",l.a.createElement("select",{value:t,onChange:n},Object.keys(a).map(e=>l.a.createElement("option",{value:e,key:e},e))))},Q=e=>{let{onClick:t}=e;return l.a.createElement("button",{className:d()(J.button),onClick:t,"aria-label":"Close Menu"},"❌︎")},V=()=>{const e=Object(o.b)(),t=Object(o.c)(e=>e.darkMode),n=t?"🔆":"🔅";return Object(r.useEffect)(()=>{document.body.classList.toggle(i.darkMode,t)},[t]),l.a.createElement("button",{className:d()(J.button),onClick:()=>e((()=>(e,t)=>{localStorage.setItem("darkMode",!0!==t().darkMode),e({type:"TOGGLE_DARKMODE"})})()),"aria-label":"Toggle Dark Mode"},n)};Q.propTypes={onClick:G.func.isRequired},Z.propTypes={tileset:G.string.isRequired,onChange:G.func.isRequired};var W=()=>{const e=Object(o.b)(),[t,n]=Object(r.useState)(null),[a,c]=Object(r.useState)(Object(o.c)(e=>e.total)),[i,s]=Object(r.useState)(Object(o.c)(e=>e.tileset)),u=Object(r.useCallback)(()=>{e({type:"RESTART"}),setTimeout(()=>{e((e=>t=>{localStorage.setItem("total",e),t({type:"CHANGE_TOTAL",total:e})})(a)),e((e=>t=>{localStorage.setItem("tileset",e),t({type:"CHANGE_TILESET",name:e})})(i)),e(M()),n(null)},500)},[e,i,a]);return l.a.createElement("div",{className:d()(F.menu,{[F.open]:t})},null===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:d()(J.button),onClick:()=>n("menu"),"aria-label":"Open Menu"},"☰︎"),l.a.createElement("button",{className:d()(J.button),onClick:()=>n("about"),"aria-label":"About"},"❓︎"),l.a.createElement(V,null)),"about"===t&&l.a.createElement(l.a.Fragment,null,"Memory v".concat("1.2.0"),l.a.createElement(Q,{onClick:()=>n(null)})),"menu"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(B,{total:a,onChange:e=>c(e.target.value)}),l.a.createElement(Z,{tileset:i,onChange:e=>s(e.target.value)}),l.a.createElement("button",{onClick:u,className:d()(J.button),"arial-label":"Restart"},"🔄︎"),l.a.createElement(Q,{onClick:()=>n(null)})))};const Y=Object(s.a)([e=>e.cards,e=>"initializing"===e.state,_,e=>e.clickable,e=>!0===e.darkMode],(e,t,n,a,r)=>({cards:e,init:t,hasWon:n,isClickable:a,isDarkMode:r}));var X=()=>{const{cards:e,init:t,hasWon:n,isClickable:a,isDarkMode:r}=Object(o.c)(Y);return l.a.createElement(l.a.Fragment,null,l.a.createElement(p,null),l.a.createElement("div",{className:d()(P.container,{[i.darkMode]:r,[i.lightMode]:!r,[P.initializing]:t})},l.a.createElement(I,null),l.a.createElement(z,null),l.a.createElement(W,null),l.a.createElement("div",{className:d()(K.cardContainer,{[P.won]:n,[K.clickable]:a})},!t&&e.map(e=>l.a.createElement(U,{key:e.index,card:e})))))},$=n(9),ee=n(31),te=n(32),ne=n(16);ne.install({onUpdateReady(){ne.applyUpdate()},onUpdated(){window.location.reload()}});const ae=(e=>{const t=[ee.a],n=Object(te.createLogger)({diff:!0,aggregate:"undefined"==typeof window});return"undefined"==typeof window&&t.push(n),Object($.c)(L,e,Object($.a)(...t))})();ae.dispatch(M()),Object(c.render)(l.a.createElement(o.a,{store:ae},l.a.createElement(X,null)),document.getElementById("root"))}]);